<% if block.active == true %>

  <% case block.blockid %>
     <% when 'menue' %>
      <div class="boxed">
        <h2><%= t(block.name) %></h2>
        <ul class="menu">
          <%= render :partial => "shared/blocks/blockmenue", :locals => { :block => block }, :collection => read_menue, :as => :menue %>
        </ul>
      </div>
       
    <% when 'login' %>
    <fieldset>
      <legend><%= t(block.name) %></legend>
        <%= current_user ? ( render :partial => "shared/blocks/blocklogout" ) : ( render :partial => "shared/blocks/blocklogin" ) %>
    </fieldset>

    <% when 'productclass' %>
    <div class="boxed">
      <h2><%= t(block.name) %></h2>
      <table>
        <%= render :partial => "shared/blocks/productclass", :collection => read_productclass, :as => :productclass %>
      </table>
      </div>

    <% when 'news' %>
      <fieldset>
        <legend><%= t(block.name) %></legend>
        <%= render :partial => "shared/blocks/news", :collection => read_block_news, :as => :news %>
      </fieldset>

    <% when 'customers' %>
      <fieldset>
        <legend><%= t(block.name) %></legend>
        <%= render :partial => "shared/blocks/customers" %>
      </fieldset>      

    <% when 'referenzen' %>
      <fieldset>
        <legend><%= t(block.name) %></legend>
        <%= render :partial => "shared/blocks/article", :collection => read_article('Referenzen'), :as => :article %>
      </fieldset>

    <% when 'kundenmeinungen' %>
      <fieldset>
        <legend><%= t(block.name) %></legend>
        <%= render :partial => "shared/blocks/article", :collection => read_article('Kundenmeinungen'), :as => :article %>
      </fieldset>

    <% when 'basket' %>
      <div class="boxed">
        <h2><%= t(block.name) %></h2>
        <table>
          <%= render :partial => "shared/blocks/basket", :object => read_basket(request.session_options[:id]), :as => :basket %>
        </table>
      </div>

    <% when 'search' %>
      <fieldset>
        <legend><%= t(block.name) %></a></legend>
        <%= render :partial => "shared/blocks/search" , :locals => { :mode => 'article' } %>
      </fieldset>

    <% when 'productsearch' %>
      <div class="boxed">
        <h2><%= t "productsearch" %></h2>
        <%= render :partial => "shared/blocks/search" , :locals => { :mode => 'product' } %>
      </div>

    <% when 'userblock1' %>
      <%= render :partial => "shared/userblocks/userblock_1", :collection => read_userblock_1, :as => :userblock %>
    <% when 'userblock2' %>
      <%= render :partial => "shared/userblocks/userblock_2", :collection => read_userblock_2, :as => :userblock %>
    <% when 'userblock3' %>
      <%= render :partial => "shared/userblocks/userblock_3", :collection => read_userblock_3, :as => :userblock %>
    <% when 'userblock4' %>
      <%= render :partial => "shared/userblocks/userblock_4", :collection => read_userblock_4, :as => :userblock %>
    <% when 'userblock5' %>
      <%= render :partial => "shared/userblocks/userblock_5", :collection => read_userblock_5, :as => :userblock %>
    <% when 'userblock6' %>
      <%= render :partial => "shared/userblocks/userblock_6", :collection => read_userblock_6, :as => :userblock %>
    <% when 'userblock7' %>
      <%= render :partial => "shared/userblocks/userblock_7", :collection => read_userblock_7, :as => :userblock %>
    <% when 'userblock8' %>
      <%= render :partial => "shared/userblocks/userblock_8", :collection => read_userblock_8, :as => :userblock %>
    <% when 'userblock9' %>
      <%= render :partial => "shared/userblocks/userblock_9", :collection => read_userblock_9, :as => :userblock %>
    <% else %>
  <% end %>
<% end %>
