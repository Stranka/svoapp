<script type="text/javascript">

$(document).ready(function() {
  initTable();
  tableActions();
} );

function initTable ()
{
  return $('#example').dataTable( {
    "bRetrieve": true
  } );
}

function tableActions ()
{
  var oTable = initTable();
  // perform API operations with oTable
}

</script>

<script type="text/javascript">
    $(document).ready(function() {
        $('#example').dataTable( {
            "oLanguage": {
                "sUrl": "media/language/de_DE.txt"
            }
        } );
    } );
</script>

<% if flash[:notice]%>
  <div class="big-message success">
    <h2><%= flash[:notice] %></h2>
    <div class="bg"></div>
    <div class="close"></div>
  </div>
<% end %>

<div class="block">
  <div class="top">
    <h2><%= t('Administration') + ' ' + Block.human_name %></h2>
  </div>
  <div class="content">
    <div class="dataTables_wrapper" >
      <table id="example" class="listing data-table">
        <thead>
          <tr>
            <th><%= Block.human_attribute_name('name') %></th>
            <th><%= Block.human_attribute_name('headerline') %></th>
            <th><%= Block.human_attribute_name('position') %></th>
            <th><%= Block.human_attribute_name('fieldorder') %></th>
            <th><%= Block.human_attribute_name('blockid') %></th>
            <th><%= Block.human_attribute_name('active') %></th>
            <th><%= Block.human_attribute_name('auth_level') %></th>
            <th><%= Block.human_attribute_name('auth_level_edit') %></th>
            <th><%= t('action') %></th>
          </tr>
        </thead>
        <tbody>
        <% @blocks.each do |block| %>
          <tr>
            <td><%= block.name %></td>
            <td><%= block.headerline %></td>
            <td><%= block.position %></td>
            <td><%= block.fieldorder %></td>
            <td><%= block.blockid %></td>
            <td><%= block.active %></td>
            <td><%= block.auth_level %></td>
            <td><%= block.auth_level_edit %></td>
            <td align="right"><nobr>
              <%= link_to image_tag("show.png", :border=>0, :alt => t('show'), :title => t('show')), block %>
              <%= link_to image_tag("edit.png", :border=>0, :alt => t('edit'), :title => t('edit')), edit_block_path(block) %>
              <%= link_to image_tag("delete.png", :border=>0, :alt => t('delete'), :title => t('delete')), block, :confirm => t('Are you sure?'), :method => :delete %>
            </nobr></td>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
    <%= link_to t('New ') + Block.human_name, new_block_path %>
  </div>
</div>

